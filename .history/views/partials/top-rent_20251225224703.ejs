<% const list = Array.isArray(items) ? items : []; %>

<div class="container">
  <header class="section-header" style="margin-bottom:.75rem">
    <h2 id="top-rent-title">ุฃูุซุฑ ูุฒุงุฑุน ุงูุฅูุฌุงุฑ ูุดุงูุฏุฉ</h2>
  </header>

  <div class="swiper top-rent-swiper" dir="rtl">
    <div class="swiper-wrapper">
      <% list.forEach(function(f){ 
           const raw = (Array.isArray(f.photos) && f.photos[0]) ? f.photos[0] : '/assets/farm-default.jpg';
           const loc = f.city ? ((f.area||'') + ' โ ' + f.city) : (f.area||'โ');
      %>
        <div class="swiper-slide">
          <article class="farm-card">
            <a class="farm-link" href="/rent/farm/<%= f._id %>">
              <figure class="farm-media">
                <img src="<%= assetPath(raw) %>" alt="<%= f.title||'ูุฒุฑุนุฉ' %>"
                     loading="lazy" onerror="this.onerror=null;this.src='/public/assets/farm-default.jpg'">
              </figure>

              <div class="farm-body">
                <h3 class="farm-title"><%= f.title||'โ' %></h3>
                <p class="farm-location"><%= loc %></p>
                <p class="farm-price">
                  <%= (f.currency==='SYP'?'ู.ุณ':'$') + Number(f.price||0).toLocaleString('en') %> / ุดูุฑ
                </p>
                <span class="meta-views">๐๏ธ <%= Number(f.views||0).toLocaleString('en') %></span>
                <span class="btn btn-outline">ุงูุชูุงุตูู</span>
              </div>
            </a>
          </article>
        </div>
      <% }) %>
    </div>

    <div class="swiper-button-prev" aria-label="ุงูุณุงุจู"></div>
    <div class="swiper-button-next" aria-label="ุงูุชุงูู"></div>
    <div class="swiper-pagination"></div>
  </div>
</div>
